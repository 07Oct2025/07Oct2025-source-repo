<!--
  Copyright (c) 2016 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<html>
    <head>
        <script src="js/mpData.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet">
        <link rel="stylesheet" href="css/main.css">
    </head>
    <body>
        <section id="appIntro">
            <div id="titleSection">
                <h1 id="appTitle">System Properties Sample</h1>
                <div class="line"></div>
                <h2>Congrats on your shiny, new Open Liberty sample app!</h2>
                <p>This sample app uses a System Properties microservice to return the properties of the system that you're running (See below).</p>
            </div>

            <div class="msSection" id="systemProperties">
                <div class="headerRow">
                    <div class="headerIcon">icon</div>
                    <div class="headerTitle" id="sysPropTitle"><h2>System Properties</h2></div>
                </div>
                <div id="systemPropertiesTable" class="flexContainer">
                    <div>Properties</div>
                    <div>Values</div>
                </div>
            </div>
        
        </section>

        <section id="whereTo">
            <h2>Where to next, captain?</h2>
            <h4>Set course for the Open Liberty guides!</h4>
            <p>All of the info you need to continue your journey is here, laid out in easy to follow steps and examples. Plus, we'll show you how to build pieces of this sample app.</p>
            <button id="guidesButton">View all Open Liberty guides</button>

            <h4>Learn more about this sample app!</h4>
            <p>Open Liberty provides developers with the latest MicroProfileTM capabilities for building microservices. This sample app is running on Open Liberty and utilizes MicroProfile health, config and metrics to reveal insights.</p>
            <span class="tooltip">Keep scrolling to see your results!</span>
        </section>

        <section id="openLibertyAndMp">
            <h1>Open Liberty and Microprofile</h1>
            <h2>System Properties Insights</h2>
            <div class="msSection" id="healthSection">
                <div class="collapsibleRow headerRow">
                    <div class="headerIcon">icon</div>
                    <div class="headerTitle">
                        <h2>Health</h2>
                        <p>Monitoring the health of your microservice</p>
                    </div>
                </div>
                <div class="collapsibleContent" id="collapsibleHealth">
                    <div class="sectionContent">
                        <div id="healthBox">
                            <div id="healthIcon">checkmark</div>
                            <div id="healthText">
                                <p id="serviceName"></p>
                                <p id="serviceStatus"></p>
                            </div>
                        </div>
                        <div id="healthNote">
                            <b>Please note:</b>
                            <p>Changing the in-maintenance mode property in the 'Config' section below directly affects this value.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="msSection" id="configSection">
                <div class="collapsibleRow headerRow">
                    <div class="headerIcon">icon</div>
                    <div class="headerTitle">
                        <h2>Config</h2>
                        <p>Exposing your service configuration</p>
                    </div>
                </div>
                <div class="collapsibleContent" id="collapsibleConfig">
                    <div class="sectionContent">
                        <table id="configTable">
                            <tbody id="configTableBody">
                            <tr><th>Key</th><th>Value</th></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="msSection" id="metricsSection">
                <div class="collapsibleRow headerRow">
                    <div class="headerIcon">icon</div>
                    <div class="headerTitle">
                        <h2>Metrics</h2>
                        <p>Monitoring how well your service is running</p>
                    </div>
                </div>
                <div class="collapsibleContent" id="collapsibleConfig">
                    <div class="sectionContent" id="metricsText">
                        <table id="metricsTable">
                            <tbody id="metricsTableBody">
                            <tr><th>Key</th><th>Value</th></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="learnMore">
                        <h2>Want to learn more about Open Liberty and MicroProfile?</h2>
                        <p>Some things just go together, like Earth and gravity or lasers and spaceships.</p> 
                        <p>Open Liberty and Microprofile is another one of those powerhouse pairs.</p>
                        <button id="mpGuidesButton"><a href="https://openliberty.io/guides/?search=MicroProfile&key=tag">Check out our MicroProfile guides on openliberty.io</a></button>
                    </div>
            </div>

            
        </section>

        <script>
            //document.getElementById('systemPropertiesTable').innerHTML = 'hello again';
            displaySystemProperties();
            displayHealth();
            displayConfigProperties();
            displayMetrics();
        </script>
    </body>

    <footer class="bodyFooter">
        <div class="bodyFooterLink">Powered by <a href="http://openliberty.io">Open Liberty</a></div>
    </footer>
</html>
